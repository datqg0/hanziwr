<!DOCTYPE html>
<html lang="vi">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GKT0DLRM43"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-GKT0DLRM43');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chinese Writer Practice</title>
    <link rel="icon" type="image/png" href="logo.png">
    <script src="hanzi-writer.min.js"></script>

    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <div id="game-container">
        <!-- Pause Button -->
        <button id="pause-btn" class="hidden" onclick="togglePause()">‚è∏Ô∏è</button>

        <!-- Pause Overlay -->
        <div id="pause-overlay" class="overlay hidden">
            <h1 data-i18n="pause">‚è∏Ô∏è Pause</h1>
            <button class="menu-btn" onclick="togglePause()" data-i18n="resume">‚ñ∂Ô∏è Resume</button>
            <button class="secondary-btn" onclick="location.reload()" data-i18n="back_to_menu">Back to Menu</button>
        </div>

        <!-- Start Screen -->
        <div id="start-screen" class="overlay">
            <h1 data-i18n="title">Luy·ªán vi·∫øt ch·ªØ H√°n</h1>

            <!-- Language Selector -->
            <div id="language-selector">
                <button class="flag-btn" onclick="changeLanguage('en')" title="English">
                    <img src="https://flagcdn.com/w40/gb.png" alt="UK Flag">
                </button>
                <button class="flag-btn" onclick="changeLanguage('vi')" title="Ti·∫øng Vi·ªát">
                    <img src="https://flagcdn.com/w40/vn.png" alt="Vietnam Flag">
                </button>
                <button class="flag-btn" onclick="changeLanguage('zh')" title="‰∏≠Êñá">
                    <img src="https://flagcdn.com/w40/cn.png" alt="China Flag">
                </button>
                <button class="flag-btn" onclick="changeLanguage('ko')" title="ÌïúÍµ≠Ïñ¥">
                    <img src="https://flagcdn.com/w40/kr.png" alt="South Korea Flag">
                </button>
                <button class="flag-btn" onclick="changeLanguage('ja')" title="Êó•Êú¨Ë™û">
                    <img src="https://flagcdn.com/w40/jp.png" alt="Japan Flag">
                </button>
                <button class="flag-btn" onclick="changeLanguage('ru')" title="–†—É—Å—Å–∫–∏–π">
                    <img src="https://flagcdn.com/w40/ru.png" alt="Russia Flag">
                </button>
                <button class="flag-btn" onclick="changeLanguage('es')" title="Espa√±ol">
                    <img src="https://flagcdn.com/w40/es.png" alt="Spain Flag">
                </button>
                <button class="flag-btn" onclick="changeLanguage('fr')" title="Fran√ßais">
                    <img src="https://flagcdn.com/w40/fr.png" alt="France Flag">
                </button>
            </div>

            <button class="menu-btn" onclick="startGame()" data-i18n="play">PLAY</button>
            <a href="rank.html" class="secondary-btn" data-i18n="rank">üèÜ B·∫£ng x·∫øp h·∫°ng</a>
        </div>

        <!-- Game Over Screen -->
        <div id="game-over-screen" class="overlay hidden">
            <h1 style="color: #ff4444;" data-i18n="game_over">üíÄ GAME OVER</h1>
            <div id="final-score-display" style="font-size: 24px; margin: 10px;"><span data-i18n="score">Score</span>:
                <span class="score-value">0</span>
            </div>
            <div style="margin-top: 20px; font-size: 18px;" data-i18n="nickname">Nickname:</div>
            <div style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                <input type="text" id="player-name" data-i18n-placeholder="enter_name" placeholder="Enter your name"
                    maxlength="20">
                <button onclick="refreshName()" title="Random Name"
                    style="background: none; border: 1px solid #ffcc00; color: #ffcc00; border-radius: 5px; cursor: pointer; padding: 10px;">üé≤</button>
            </div>
            <button id="submit-btn" class="menu-btn" data-i18n="submit_score">Submit Score</button>
            <button class="secondary-btn" onclick="location.reload()" data-i18n="back_to_menu">Back to Menu</button>
        </div>

        <h1 data-i18n="title">Luy·ªán vi·∫øt ch·ªØ H√°n</h1>

        <div id="hp-bar-container">
            <div id="hp-bar">
                <span id="hp-text">100%</span>
            </div>
        </div>

        <div id="hud">
            <div><span data-i18n="score">Score</span>: <span id="score" class="score-value">0</span></div>
            <div><span data-i18n="high_score">High Score</span>: <span id="high-score" class="score-value">0</span>
            </div>
        </div>
        <div id="status"></div>
        <div id="character-target"></div>

        <div id="character-target-1"></div>

    </div>

    <script src="js/index.js"></script>
    <script type="module" src="js/firebase-index.js"></script>
</body>

</html>